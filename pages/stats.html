<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <script>
      window.rootPrefix = /^\/(files|preview)\//.test(location.pathname)
        ? location.pathname.split('/').slice(0, 4).join('/')
        : '/';
    </script>
    <script type="module" src="../webfoundry/ifdesigner.js"></script>
    <script src="../webfoundry/head.js"></script>
  </head>
  <body
    class="flex flex-col [&amp;&gt;div:first-child]:flex-1 min-h-screen"
    style="display: none"
  >
    <div class="flex min-h-screen flex-col">
      <div
        class="flex flex-1 min-h-0 flex-col justify-center items-center bg-neutral-100"
      >
        <div
          class="mx-auto flex w-screen flex-1 min-h-0 flex-col overflow-hidden bg-white shadow-2xl shadow-slate-400/30 ring-1 ring-slate-200 lg:rounded-3xl lg:max-w-3xl xl:flex-none sm:h-auto max-h-[calc(100vh_-_4rem)] lg:max-h-[85vh]"
        >
          <div class="flex flex-1 min-h-0 flex-col overflow-y-auto">
            <div
              class="bg-gradient-to-r from-rose-500 to-amber-400 text-center overflow-hidden shrink-0 sticky top-0 z-10"
            >
              <div class="p-10 pt-12">
                <h1
                  class="text-5xl font-light uppercase tracking-[0.4em] text-white"
                >
                  Stats
                </h1>
              </div>
            </div>
            <div class="flex flex-1 gap-6 p-6 flex-col md:flex-row">
              <section
                class="rounded-lg border border-slate-200 bg-white p-6 flex-1 flex flex-col"
              >
                <div class="flex flex-wrap items-center justify-between gap-4">
                  <div>
                    <p class="text-sm font-medium text-slate-600">
                      Todo Overview
                    </p>
                    <h2 class="text-2xl font-medium text-slate-800">Top 3</h2>
                  </div>
                </div>
                <ol class="mt-4 flex-1 flex flex-col gap-4">
                  <div
                    class="flex-1 flex flex-col justify-center items-center gap-6"
                    wf-if="state.todo.todos.every(todo =&gt; todo.completed)"
                  >
                    <div class="text-7xl opacity-90">âœ¨</div>
                    <div class="text-neutral-600">All done!</div>
                  </div>
                  <li
                    class="flex gap-3"
                    wf-map="todo of state.todo.todos.filter(todo =&gt; !todo.completed).slice(0, 3)"
                  >
                    <span
                      class="text-sm font-medium text-slate-600 truncate max-w-8"
                      >{{state.todo.todos.filter(todo =&gt; !todo.completed).indexOf(todo) + 1}}.</span
                    >
                    <div>
                      <p class="font-medium text-slate-800">{{todo.label}}</p>
                      <p class="text-sm text-slate-600" wf-if="todo.note">
                        {{todo.note}}
                      </p>
                      <p
                        class="text-sm text-slate-600"
                        wf-if="!todo.note &amp;&amp; todo.dueDate"
                      >
                        Due {{todo.dueDate}}
                      </p>
                      <p
                        class="text-sm text-slate-400 italic"
                        wf-if="!todo.note &amp;&amp; !todo.dueDate"
                      >
                        No extra details
                      </p>
                    </div>
                  </li>
                </ol>
              </section>
              <div class="flex-1 flex flex-col gap-6">
                <section
                  class="rounded-lg border border-slate-200 bg-white p-6"
                >
                  <p class="text-sm font-medium text-slate-600">
                    Todo statistics
                  </p>
                  <div class="flex items-baseline gap-3">
                    <span
                      class="text-2xl font-medium text-slate-800 truncate max-w-16"
                      >{{state.todo.todos.filter(todo =&gt; todo.completed).length}}</span
                    >
                    <span class="text-sm text-slate-600">completed tasks</span>
                  </div>
                  <div class="flex gap-6 mt-2">
                    <div>
                      <p class="text-sm text-slate-600">Remaining</p>
                      <p class="font-medium text-slate-800 truncate max-w-16">
                        {{state.todo.todos.filter(todo =&gt; !todo.completed).length}} tasks
                      </p>
                    </div>
                    <div>
                      <p class="text-sm text-slate-600">Overdue</p>
                      <p class="font-medium text-rose-500 truncate max-w-16">
                        {{(() =&gt; { let today = new Date(); today.setHours(0, 0, 0, 0); return state.todo.todos.filter( todo =&gt; !todo.completed &amp;&amp; todo.dueDate &amp;&amp; new Date(todo.dueDate) &lt; today, ).length; })()}} tasks
                      </p>
                    </div>
                  </div>
                </section>
                <section
                  class="rounded-lg border border-slate-200 bg-white p-6"
                >
                  <p class="text-sm font-medium text-slate-600">
                    Chat interface
                  </p>
                  <div class="flex items-baseline gap-3">
                    <span class="text-2xl font-medium text-slate-800">42</span>
                    <span class="text-sm text-slate-600"
                      >messages sent today</span
                    >
                  </div>
                  <div class="flex gap-6 mt-2">
                    <div>
                      <p class="text-sm text-slate-600">Active threads</p>
                      <p class="font-medium text-slate-800">5</p>
                    </div>
                    <div>
                      <p class="text-sm text-slate-600">Avg. response</p>
                      <p class="font-medium text-slate-800">2m 14s</p>
                    </div>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </div>
      </div>
      <header class="sticky bottom-0 z-10 border-t border-slate-200 bg-white">
        <div
          class="mx-auto flex max-w-3xl items-center px-10 py-4 justify-center"
        >
          <nav
            class="flex items-center gap-2 text-sm font-medium text-slate-600"
          >
            <a
              href="index.html"
              class="rounded-lg px-3 py-2 transition hover:bg-rose-50 hover:text-rose-500"
              >Todos</a
            >
            <a
              href="stats.html"
              class="rounded-lg px-3 py-2 transition bg-rose-50 text-rose-500"
              >Stats</a
            ><a
              href="chat.html"
              class="rounded-lg px-3 py-2 transition hover:bg-rose-50 hover:text-rose-500"
              >Chat</a
            >
          </nav>
        </div>
      </header>
    </div>
  </body>
</html>
